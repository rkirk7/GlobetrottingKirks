<div class="container my-5">
  <h1 class="text-center mb-5">Mei-Mei's Travel Blog</h1>
  <div id="blog-container"></div>
</div>

<!-- Marked.js for Markdown parsing -->
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

<script>
function initBlog() {
  const posts = [
    "2015-08-29-hello-world-2.md",
    "2015-09-14-yes-the-world-needs-another-website-mine.md",
    "2015-09-16-retirement-milestone-3-months-and-counting.md"
    // Add more markdown posts here
  ];

  const container = document.getElementById("blog-container");
  container.innerHTML = ""; // Clear previous content

  posts.forEach(post => {
    fetch(`blog-posts/${post}`)
      .then(res => res.text())
      .then(text => {
        const html = marked.parse(text);

        // Wrap each post in a Bootstrap card
        const postDiv = document.createElement("div");
        postDiv.classList.add("card", "shadow-lg", "mb-5");
        postDiv.innerHTML = `
          <div class="card-body blog-post">
            ${html}
          </div>
        `;
        container.appendChild(postDiv);
      })
      .catch(err => {
        console.error(`Failed to load ${post}:`, err);
      });
  });
}

// If page loads directly
document.addEventListener("DOMContentLoaded", initBlog);
</script>

<style>
/* Make all images within posts responsive */
.blog-post img {
  max-width: 100%;
  height: auto;
  display: block;
  margin: 1rem auto;
  border-radius: 8px;
}

/* Optional: style headings inside blog posts */
.blog-post h1, .blog-post h2, .blog-post h3 {
  margin-top: 1rem;
  margin-bottom: 0.5rem;
}

.blog-post p {
  line-height: 1.6;
}

/* Optional: style links inside blog posts */
.blog-post a {
  color: #007bff;
  text-decoration: underline;
}
</style>
